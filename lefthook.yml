pre-push:
  parallel: true
  commands:
    backend-linter:
      glob:
        - "*.rb"
        - "*.erb"
      run: bin/rake standard
    frontend-linter:
      glob:
        - "app/javascript/**/*.js"
      run: yarn lint
    backend-specs:
      glob:
        - "{app,spec}/**/*.rb"
        - "*.erb"
      run: bin/bundle exec rspec

pre-commit:
  parallel: true
  commands:
    backend-linter:
      glob:
        - "*.rb"
        - "*.erb"
      run: bin/rake standard {files}
    frontend-linter:
      glob:
        - "app/javascript/**/*.js"
        - "app/javascript/**/*.ts"
      run: yarn lint:fix
    prettier:
      glob:
        - "*.json"
      run: yarn prettier --write {files}
